# ==========================================
# 1. FRONTEND CONFIGURATION (Next.js)
# ==========================================
NODE_ENV=development
NEXT_PUBLIC_SITE_URL=http://localhost:3000
# The URL where your Next.js API Proxy routes will point
NEXT_PUBLIC_API_BASE_URL=http://localhost:3000/api/proxy

# WebSocket URL for real-time payment/notification tracking
NEXT_PUBLIC_WS_URL=ws://localhost:3001

# ==========================================
# 2. BACKEND & DATABASE (Core API)
# ==========================================
# Primary PostgreSQL RDS Instance
DATABASE_URL="DATABASE_URL=postgresql://postgres:Elite1234%$@dev-sft.cude02oi0pem.us-east-1.rds.amazonaws.com:5432/market_master_dev"

# Redis Configuration (For Session Caching & Audit Log Buffering)
REDIS_URL=redis://localhost:6379

# ==========================================
# 3. AUTHENTICATION & SECURITY
# ==========================================
# Keys for JWT signing (Minimum 32 characters)
JWT_SECRET=uganda_mmis_secure_access_key_2025_prod
JWT_REFRESH_SECRET=uganda_mmis_refresh_key_2025_prod

# Session secret for NextAuth or local session management
SESSION_SECRET=session-encryption-key-market-master-ug

# Internal API Secret (Used for proxy.ts to communicate securely with Backend)
INTERNAL_AUTH_KEY=mmis_internal_bridge_secret_9988

# ==========================================
# 4. THIRD-PARTY INTEGRATIONS (UGANDA SPECIFIC)
# ==========================================
# MTN/Airtel Mobile Money API (MoMo)
MOMO_API_BASE_URL=https://sandbox.momodeveloper.mtn.com
MOMO_PRIMARY_KEY=your_momo_primary_subscription_key
MOMO_USER_ID=your_api_user_id
MOMO_API_KEY=your_momo_api_secret_key
MOMO_TARGET_ENVIRONMENT=sandbox

# NIRA National ID Verification Service
NIRA_API_URL=https://api.nira.go.ug/v1/verify
NIRA_CLIENT_ID=ug_mmis_official_client
NIRA_CLIENT_SECRET=nira_auth_secret_xyz

# ==========================================
# 5. BUSINESS LOGIC & GOV RESTRICTIONS
# ==========================================
# Authorized domains for Admin Level Access
ALLOWED_GOV_DOMAINS=molg.go.ug,kcca.go.ug,finance.go.ug,nita.go.ug

# ==========================================
# 6. NOTIFICATIONS & EMAIL (SMTP)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=system-alerts@marketmaster.com
SMTP_PASS=your-google-app-password
SMTP_FROM="Uganda MMIS <noreply@marketmaster.com>"

# ==========================================
# 7. LOGGING & AUDIT
# ==========================================
# Level of detail for proxy.ts audit logging (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO
# Backend endpoint where proxy.ts sends log events
BACKEND_LOG_ENDPOINT=http://localhost:5000/api/audit-logs

# ==========================================
# 8. APPLICATION CONSTRAINTS
# ==========================================
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME=900000 # 15 minutes
PASSWORD_RESET_TIMEOUT=3600000 # 1 hour
# Secure cookies only for production (HTTPS)
COOKIE_SECURE=false 
COOKIE_DOMAIN=localhost